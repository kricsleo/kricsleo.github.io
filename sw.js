const cacheVer="kricsleo-cache-v2",cacheFileList=["/","/style.css","/js/index.js","/js/search.js"];self.addEventListener("install",e=>{self.skipWaiting(),e.waitUntil(caches.open(cacheVer).then(e=>e.addAll(cacheFileList)))}),self.addEventListener("activate",e=>{e.waitUntil(Promise.all([self.clients.claim(),caches.keys().then(e=>Promise.all(e.map(e=>e!==cacheVer?caches.delete(e):void 0)))]))}),self.addEventListener("fetch",e=>{e.respondWith(caches.match(e.request).then(c=>{if(c)return c;const s=e.request.clone();return fetch(s).then(e=>{if(!e||200!==e.status)return e;e.clone();return caches.open("kricsleo-cache-v1").then(e=>{}),e})}))});
let customSearch;!function(){"use strict";const e=document,t=window,s=e.getElementsByClassName("l_header")[0],n=s.getBoundingClientRect().bottom+20;function o(e){const s=e.getBoundingClientRect().top-n;t.scrollBy({behavior:"smooth",top:s})}!function(){if(!t.subData)return;const n=s.querySelector(".wrapper");n.querySelector(".nav-sub .logo").innerHTML=t.subData.subtitle||t.subData.title;let c=e.documentElement.scrollTop;t.onscroll=(()=>{const t=e.documentElement.scrollTop,s=t-c;s>20?(c=t,n.classList.add("sub")):s<-20&&(c=t,n.classList.remove("sub"))}),e.getElementsByClassName("s-top")[0].onclick=(()=>{o(document.body)});const a=s.getElementsByClassName("s-comment")[0],l=e.getElementById("comments");l?a.onclick=(()=>{o(l)}):a&&a.parentNode.removeChild(a)}(),function(){const t=s.getElementsByClassName("menu")[0],n=t.getElementsByClassName("underline")[0];function o(s=t.querySelector("li a.active"),o=!0){o||n.classList.add("disable-trans"),s?(e.querySelectorAll(".menu li").forEach(e=>{e.classList.remove("active")}),s.classList.add("active"),n.style.cssText=`left: ${s.offsetLeft}px; width: ${s.clientWidth}px;`):n.style.cssText="left: 0px; width: 0px;",o||setTimeout(()=>{n.classList.remove("disable-trans")},0)}[...t.getElementsByTagName("li")].forEach(e=>{e.onmouseenter=(e=>{o(e.currentTarget)}),e.onmouseout=(e=>{o()})});const c=location.pathname;let a=null;if("/"===c||c.startsWith("/page/"))a=s.querySelector(".nav-home");else{var l=c.match(/\/(.*?)\//);l.length>1&&(a=s.querySelector(`.nav-${l[1]}`))}o(a,!1)}(),function(){const t=s.getElementsByClassName("m_search")[0];s.getElementsByClassName("s-search")[0],t.onclick=(()=>{if(!customSearch){var t=e.createElement("script");t.type="text/javascript",t.src="/js/search.js",t.onload=function(){customSearch=new HexoSearch({imagePath:"/images/"})},e.body.appendChild(t)}s.classList.toggle("z_search-open")}),e.addEventListener("click",()=>{s.classList.remove("z_search-open")})}(),function(){const c=e.getElementsByClassName("toc-wrapper")[0],a=s.getElementsByClassName("s-toc")[0];if(!c||!c.childNodes.length||!a)return void a.parentNode.removeChild(a);a.onclick=(()=>{c.classList.toggle("active")});const l=[...c.getElementsByTagName("a")];l.forEach(t=>{t.onclick=(s=>{s.preventDefault(),s.stopPropagation(),o(e.getElementById(t.getAttribute("href").substring(1)))})});const r=()=>l.map(t=>{const s=t.getAttribute("href").substring(1);return e.getElementById(s).offsetTop-n});let i=r();const m=()=>{const t=e.documentElement.scrollTop;if(!i)return;let s,n=0,o=i.length-1;for(;n<o;)i[s=n+o+1>>1]===t?n=o=s:i[s]<t?n=s:o=s-1;l.forEach(e=>{e.classList.remove("active")}),l[n].classList.add("active")};t.addEventListener("resize",()=>{i=r(),m()}),t.addEventListener("scroll",()=>m()),m()}()}();
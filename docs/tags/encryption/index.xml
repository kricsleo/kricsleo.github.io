<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Encryption on World of Forks</title>
    <link>https://keyin.me/tags/encryption/</link>
    <description>Recent content in Encryption on World of Forks</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 08 Feb 2017 00:00:00 +0800</lastBuildDate>
    
	<atom:link href="https://keyin.me/tags/encryption/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>网易云音乐新API简述</title>
      <link>https://keyin.me/posts/netease-music-api/</link>
      <pubDate>Wed, 08 Feb 2017 00:00:00 +0800</pubDate>
      
      <guid>https://keyin.me/posts/netease-music-api/</guid>
      <description>&lt;p&gt;新API采用了略微修改过的AES和RSA加密，主要用在登陆接口上，对新API进行简单的分析。&lt;/p&gt;

&lt;h2 id=&#34;url&#34;&gt;Url&lt;/h2&gt;

&lt;p&gt;估计会抓包的人都知道，Url中的api便成了weapi。比如手机登录：&lt;br /&gt;
原来是：&lt;a href=&#34;http://music.163.com/api/login/cellphone/&#34;&gt;http://music.163.com/api/login/cellphone/&lt;/a&gt;&lt;br /&gt;
现在是：&lt;a href=&#34;http://music.163.com/weapi/login/cellphone/&#34;&gt;http://music.163.com/weapi/login/cellphone/&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;加密算法&#34;&gt;加密算法&lt;/h2&gt;

&lt;p&gt;核心过程如下：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-Javascript&#34;&gt; aesRsaEncrypt = function (text, pubKey, modulus, nonce) {
  const secKey = createSecretKey(16);  // 随机生成16位加密密钥
  return {
	params:  aesEncrypt(aesEncrypt(text, nonce), secKey),
	encSecKey: rsaEncrypt(secKey, pubKey, modulus)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>